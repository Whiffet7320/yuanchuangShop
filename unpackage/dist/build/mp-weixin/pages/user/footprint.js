(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/footprint"],{"2c6a":function(t,n,a){"use strict";a.r(n);var e=a("3d5d"),r=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(n,t,(function(){return e[t]}))}(o);n["default"]=r.a},"34bc":function(t,n,a){"use strict";(function(t){a("0429");e(a("66fd"));var n=e(a("d14a"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,a("543d")["createPage"])},"3d5d":function(t,n,a){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=r(a("a34a"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n,a,e,r,o,u){try{var i=t[o](u),c=i.value}catch(s){return void a(s)}i.done?n(c):Promise.resolve(c).then(e,r)}function u(t){return function(){var n=this,a=arguments;return new Promise((function(e,r){var u=t.apply(n,a);function i(t){o(u,e,r,i,c,"next",t)}function c(t){o(u,e,r,i,c,"throw",t)}i(void 0)}))}}var i={data:function(){return{dataList:[],isData:!0,arrData:[],reload:!1,total:0,current_page:1,last_page:1,status:"loading",contentText:{contentdown:" ",contentrefresh:"加载中",contentnomore:""}}},onLoad:function(){this.loadData()},onPullDownRefresh:function(){this.current_page=1,this.reload=!0,this.loadData()},onReachBottom:function(){this.current_page>=this.last_page?this.status="noMore":(this.reload=!1,this.current_page=this.current_page+1,this.status="loading",this.loadData())},methods:{loadData:function(){var n=this;return u(e.default.mark((function a(){return e.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n.$api.get({url:"/wanlshop/product/footprint",data:{page:n.current_page},success:function(a){t.stopPullDownRefresh(),n.dataList=n.reload?a.data:n.dataList.concat(a.data),n.isData=0!=n.dataList.length,n.arrData=n.formatData(n.dataList),n.total=a.total,n.current_page=a.current_page,n.last_page=a.last_page,n.status=0==a.total?"noMore":"more"}});case 1:case"end":return a.stop()}}),a)})))()},formatData:function(t){var n=this,a={},e=[];return t.forEach((function(t){var r=n.getLocalTime(t.createtime);a[r]||(a[r]=[],e.push(r)),a[r].push(t)})),{groups:a,categories:e}},getLocalTime:function(t){return new Date(1e3*parseInt(t)).toLocaleDateString().replace(/\//g,"-")}}};n.default=i}).call(this,a("543d")["default"])},6625:function(t,n,a){"use strict";var e=a("f92d"),r=a.n(e);r.a},d14a:function(t,n,a){"use strict";a.r(n);var e=a("ef08"),r=a("2c6a");for(var o in r)"default"!==o&&function(t){a.d(n,t,(function(){return r[t]}))}(o);a("6625");var u,i=a("f0c5"),c=Object(i["a"])(r["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],u);n["default"]=c.exports},ef08:function(t,n,a){"use strict";a.d(n,"b",(function(){return r})),a.d(n,"c",(function(){return o})),a.d(n,"a",(function(){return e}));var e={wanlEmpty:function(){return a.e("components/wanl-empty/wanl-empty").then(a.bind(null,"8fd5"))},uniLoadMore:function(){return a.e("components/uni-load-more/uni-load-more").then(a.bind(null,"0b06"))}},r=function(){var t=this,n=t.$createElement,a=(t._self._c,t.__map(t.arrData.groups,(function(n,a){var e=t.__get_orig(n),r=t.isData?t.__map(n,(function(n,a){var e=t.__get_orig(n),r=n.goods.price?t.$wanlshop.oss(n.goods.image,136,126):null;return{$orig:e,g0:r}})):null;return{$orig:e,l0:r}})));t.$mp.data=Object.assign({},{$root:{l1:a}})},o=[]},f92d:function(t,n,a){}},[["34bc","common/runtime","common/vendor"]]]);