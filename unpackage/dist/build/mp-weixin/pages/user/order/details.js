(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/order/details"],{"0250":function(t,e,a){"use strict";(function(t){a("0429");r(a("66fd"));var e=r(a("7676"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"1d55":function(t,e,a){"use strict";a.r(e);var r=a("b51d"),o=a.n(r);for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=o.a},3539:function(t,e,a){},"3a14":function(t,e,a){"use strict";var r;a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement,a=(t._self._c,t.$wanlshop.appstc("/order/img_detail_bg.png")),r=t.getStatusText(t.orderData.state),o=t.$wanlshop.appstc("/order/"+t.getImg(t.orderData.state)),n=t.orderData.address.address.replace(/\//g," "),i=t.orderData.order_no?t.__map(t.orderData.goods,(function(e,a){var r=t.__get_orig(e),o=t.$wanlshop.oss(e.image,77,77),n=2==t.orderData.state||3==t.orderData.state||4==t.orderData.state||6==t.orderData.state?t.getRefund(e.refund_status):null;return{$orig:r,g3:o,m1:n}})):null;t.$mp.data=Object.assign({},{$root:{g0:a,m0:r,g1:o,g2:n,l0:i}})},n=[]},7676:function(t,e,a){"use strict";a.r(e);var r=a("3a14"),o=a("1d55");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("8596");var i,s=a("f0c5"),d=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);e["default"]=d.exports},8596:function(t,e,a){"use strict";var r=a("3539"),o=a.n(r);o.a},b51d:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(a("a34a"));function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e,a,r,o,n,i){try{var s=t[n](i),d=s.value}catch(u){return void a(u)}s.done?e(d):Promise.resolve(d).then(r,o)}function i(t){return function(){var e=this,a=arguments;return new Promise((function(r,o){var i=t.apply(e,a);function s(t){n(i,r,o,s,d,"next",t)}function d(t){n(i,r,o,s,d,"throw",t)}s(void 0)}))}}var s={data:function(){return{orderData:{order_no:"",address:{name:"加载中...",mobile:"",address:"",address_name:""},logistics:{context:"",status:"",time:""},statetime:""},logisticsType:!1,infoMore:!1}},onLoad:function(t){this.loadData({id:t.id})},methods:{loadData:function(t){var e=this;return i(r.default.mark((function a(){return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.$api.get({url:"/wanlshop/order/getOrderInfo",data:t,success:function(t){if(e.orderData=t,e.logisticsType=!0,0==t.state)e.orderData.statetime="剩余时间0";else if(1==t.state){var a=t.createtime+86400*t.config.cancel-Date.parse(new Date)/1e3,r=Math.floor(a/86400),o=Math.floor(a%86400/3600),n=Math.floor(a%86400%3600/60);n>0&&(e.orderData.statetime="还剩"+n+"分自动关闭订单"),o>0&&(e.orderData.statetime="还剩"+o+"天"+n+"分自动关闭订单"),r>0&&(e.orderData.statetime="还剩"+r+"天"+o+"小时"+n+"分自动关闭订单")}else if(2==t.state)e.orderData.statetime="等待卖家发货";else if(3==t.state){a=t.delivertime+86400*t.config.receiving-Date.parse(new Date)/1e3,r=Math.floor(a/86400),o=Math.floor(a%86400/3600),n=Math.floor(a%86400%3600/60);n>0&&(e.orderData.statetime="还剩"+n+"分自动确认收货"),o>0&&(e.orderData.statetime="还剩"+o+"天"+n+"分自动确认收货"),r>0&&(e.orderData.statetime="还剩"+r+"天"+o+"小时"+n+"分自动确认收货")}else if(4==t.state){a=t.taketime+86400*t.config.comment-Date.parse(new Date)/1e3,r=Math.floor(a/86400),o=Math.floor(a%86400/3600),n=Math.floor(a%86400%3600/60);n>0&&(e.orderData.statetime="还剩"+n+"分自动评论"),o>0&&(e.orderData.statetime="还剩"+o+"天"+n+"分自动评论"),r>0&&(e.orderData.statetime="还剩"+r+"天"+o+"小时"+n+"分自动评论")}else 6==t.state?e.orderData.statetime=t.dealtime_text:7==t.state&&(e.orderData.statetime="订单已取消")}});case 1:case"end":return a.stop()}}),a)})))()},getImg:function(t){return["img_order_payment3x.png","img_order_send3x.png","img_order_received3x.png","img_order_signed3x.png","img_order_closed3x.png","img_order_signed3x.png","img_order_closed3x.png"][t-1]},getStatusText:function(t){return["等待您付款","付款成功","待收货","待评论","退款订单","订单已完成","交易关闭"][t-1]},getRefund:function(t){return["退款","退款中","待退货","退款完成","退款关闭","退款被拒"][t]},onRefund:function(t,e,a,r){0==e?this.$wanlshop.to("/pages/user/refund/apply?data=".concat(JSON.stringify({order_id:this.orderData.id,goods:this.orderData.goods[r],freight_type:this.orderData.freight_type,discount_price:this.orderData.pay.discount_price,goods_number:this.orderData.goods.length}))):this.$wanlshop.to("/pages/user/refund/details?id=".concat(a))},toMore:function(){this.infoMore=!this.infoMore}}};e.default=s}},[["0250","common/runtime","common/vendor"]]]);