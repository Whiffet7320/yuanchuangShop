(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"09ad":function(t,e,n){},"2d95":function(t,e,n){"use strict";n.r(e);var o=n("48fc");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("a4c4");var r,i,u,c,s=n("f0c5"),d=Object(s["a"])(o["default"],r,i,!1,null,null,null,!1,u,c);e["default"]=d.exports},"32e9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(n("66fd"));function o(t){return t&&t.__esModule?t:{default:t}}var a={onLaunch:function(){this.$store.dispatch("update/update"),this.$store.dispatch("common/init"),this.$store.dispatch("cart/get"),this.$store.dispatch("statistics/get")},onShow:function(){this.$store.dispatch("chat/start")},onHide:function(){this.$store.dispatch("chat/close")}};e.default=a},"48fc":function(t,e,n){"use strict";n.r(e);var o=n("32e9"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=a.a},a4c4:function(t,e,n){"use strict";var o=n("09ad"),a=n.n(o);a.a},c976:function(t,e,n){"use strict";(function(t,e){n("0429");var o=d(n("66fd")),a=d(n("2d95")),r=d(n("846c")),i=d(n("25f0")),u=d(n("68a7")),c=d(n("83b5")),s=d(n("58a2"));function d(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}o.default.mixin(s.default),o.default.config.productionTip=!1,o.default.prototype.$api=i.default,o.default.prototype.$store=r.default,i.default.setConfig({baseUrl:c.default.appurl,debug:c.default.debug}),i.default.interceptor.request=function(e){if(!e.header.token||!e.header.wanlshop){var n=t.getStorageSync("wanlshop:user");n&&(e.header.token=t.getStorageSync("wanlshop:user").token),e.header["Accept-Language"]="zh-CN,zh;q=0.9"}return void 0===e.toastError&&(e.toastError=!0),e},i.default.interceptor.response=function(t,e){return 1===t.code?t.success=!0:401===t.code&&x("/pages/user/auth/auth"),c.default.debug&&console.log(t),t},i.default.interceptor.fail=function(t,e){var n="";return n=200===t.statusCode||401===t.statusCode||403===t.statusCode?t.data.msg:404===t.statusCode?"API接口不存在":500===t.statusCode?"API接口异常":"服务器繁忙","request:fail abort statusCode:-1"==t.errMsg?c.default.debug&&console.log(t):e.toastError&&g(n),t};var g=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";!1!==Boolean(e)&&(t.showToast({title:e,duration:n,mask:o,icon:a}),r.default.state.user.shock&&t.vibrateShort())},h=function(){var t=getCurrentPages(),e=t[t.length-2];return e.$vm},v=function(){var e=t.getSystemInfoSync(),n={top:e.statusBarHeight,height:e.statusBarHeight+t.upx2px(90),screenHeight:e.screenHeight,platform:e.platform,model:e.model,windowHeight:e.windowHeight,windowBottom:e.windowBottom},o=t.getMenuButtonBoundingClientRect();return n.height=o.bottom+o.top-e.statusBarHeight,c.default.debug&&console.log(n),n},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&t.setNavigationBarTitle({title:e}),"{}"!=JSON.stringify(n)&&t.setNavigationBarColor(n)},b=function(t){return c.default.cdnurl+"/assets/addons/wanlshop/img"+t},y=function(t,e){return"thousand"==e&&(t>9999?t=(t/1e4).toFixed(1)+"w":t>999&&(t=(t/1e3).toFixed(1)+"k")),"hundred"==e&&t>99&&(t="99+"),t},w=function(t,e){return u.default.bcadd(t,e)},j=function(t,e){return u.default.bcsub(t,e)},S=function(t,e){return u.default.bcmul(t,e)},_=function(t,e){return u.default.bcdiv(t,e)},M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";t=parseInt(t),t||(t=Number(new Date)),10==t.toString().length&&(t*=1e3);var n,o=new Date(t),a={"y+":o.getFullYear().toString(),"m+":(o.getMonth()+1).toString(),"d+":o.getDate().toString(),"h+":o.getHours().toString(),"M+":o.getMinutes().toString(),"s+":o.getSeconds().toString()};for(var r in a)n=new RegExp("("+r+")").exec(e),n&&(e=e.replace(n[1],1==n[1].length?a[r]:a[r].padStart(n[1].length,"0")));return e},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";null==t&&(t=Number(new Date)),t=parseInt(t),10==t.toString().length&&(t*=1e3);var n=(new Date).getTime()-t;n=parseInt(n/1e3);var o="";switch(!0){case n<300:o="刚刚";break;case n>=300&&n<3600:o=parseInt(n/60)+"分钟前";break;case n>=3600&&n<86400:o=parseInt(n/3600)+"小时前";break;case n>=86400&&n<2592e3:o=parseInt(n/86400)+"天前";break;default:o=!1===e?n>=2592e3&&n<31536e3?parseInt(n/2592e3)+"个月前":parseInt(n/31536e3)+"年前":M(t,e)}return o},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t&&(t=Number(new Date)),t=parseInt(t),10==t.toString().length&&(t*=1e3);var e=(new Date).getTime()-t;e=parseInt(e/1e3);var n="";switch(!0){case e<86400:n=M(t,"hh:MM");break;case e>=86400&&e<604800:var o=new Date(t),a=["日","一","二","三","四","五","六"];switch((new Date).getDate()-o.getDate()){case 1:n=M(t,"昨天 hh:MM");break;case 2:n=M(t,"前天 hh:MM");break;default:n="星期"+a[o.getDay()]+M(t,"hh:MM")}break;case e>=604800:n=M(t,"mm-dd hh:MM");break;default:n=M(t,"yyyy-mm-dd hh:MM")}return n},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[];if(n=n||o.length,t)for(var r=0;r<t;r++)a[r]=o[0|Math.random()*n];else{var i;a[8]=a[13]=a[18]=a[23]="-",a[14]="4";for(var u=0;u<36;u++)a[u]||(i=0|16*Math.random(),a[u]=o[19==u?3&i|8:i])}return e?(a.shift(),"u"+a.join("")):a.join("")},B=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:120,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"jpg",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"resize",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:3,s="",d=["m_lfit","m_mfit","m_fill","m_fixed"],l=["?x-oss-process=image","auto-orient,1","interlace,1","format,jpg","quality,q_90","sharpen,50","resize,m_fixed,w_120,h_120"];return"png"==r&&(l[3]=["format","png"].join(",")),l[6]=0==e?[i,d[o],"h_".concat(n*u)].join(","):0==n?[i,d[o],"w_".concat(e*u)].join(","):[i,d[o],"w_".concat(e*u),"h_".concat(n*u)].join(","),t?/^data:image\//.test(t)?s=t:/^(http|https):\/\/.+/.test(t)?(l.pop(),s=t+l.join("/")):s=c.default.cdnurl+t+l.join("/"):"transparent"==a||(s=b("avatar"==a?"/common/mine_def_touxiang_3x.png":"/common/img_default3x.png")),s},x=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pop-in",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;t.navigateTo({url:e,animationType:n,animationDuration:o,success:function(t){c.default.debug&&console.log(t)},fail:function(t){c.default.debug&&console.log(t)}})},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.navigateBack({delta:e})},P=function(t){x(r.default.state.user.isLogin?t:"/pages/user/auth/auth")},I=function(e){e=decodeURIComponent(e),"/pages/tabBar/index/index"==e||"/pages/tabBar/category/category"==e||"/pages/tabBar/notice/notice"==e||"/pages/tabBar/find/find"==e||"/pages/tabBar/cart/cart"==e||"/pages/tabBar/user/user"==e?t.switchTab({url:e}):x(e)},T=function(t){i.default.post({url:"/wanlshop/chat/send",data:t,success:function(e){u.default.setChat(t,"send")}})},$=function(e){t.makePhoneCall({phoneNumber:e})},H=function(t){return(t/1048576).toFixed(1)+"MB"},N=function(){return""},F=function(t){return c.default[t]};o.default.prototype.$wanlshop={msg:g,prePage:h,wanlsys:v,title:m,appstc:b,toFormat:y,timeToDate:k,timeToChat:O,timeFormat:M,conver:H,guid:D,oss:B,to:x,on:I,auth:P,back:C,maks:N,send:T,phone:$,config:F,bcadd:w,bcsub:j,bcmul:S,bcdiv:_},o.default.prototype.onGoods=function(t){x("/pages/product/goods?id=".concat(t))},o.default.prototype.onShop=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";x("/pages/shop/shop?id=".concat(t,"&type=").concat(e))},o.default.prototype.orderDetails=function(t){x("/pages/user/order/details?id=".concat(t))},o.default.prototype.onLogistics=function(t){x("/pages/user/order/logistics?id=".concat(t))},o.default.prototype.toChat=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;x(e?"/pages/notice/chat?shop_id=".concat(t,"&goods=").concat(JSON.stringify(e)):"/pages/notice/chat?shop_id=".concat(t))},o.default.prototype.onDetails=function(t,e){x("/pages/article/details?id=".concat(t,"&title=").concat(e))},o.default.prototype.onAdvert=function(t){t.url&&!/^(http|https):\/\/.+/.test(t.url)?I(t.url):x("/pages/article/advert?id=".concat(t.id))},o.default.prototype.onLive=function(t){P("/pages/apps/find/details/live?id=".concat(t))},o.default.prototype.onFind=function(t){"live"==t.type?this.onLive(t.live_id):x("/pages/apps/find/details/details?id=".concat(t.id))},a.default.mpType="app";var E=new o.default(f({store:r.default},a.default));e(E).$mount()}).call(this,n("543d")["default"],n("543d")["createApp"])}},[["c976","common/runtime","common/vendor"]]]);