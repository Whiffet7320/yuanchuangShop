{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/wanlshop_v1.0.8/pages/shop/shop.vue?4947","webpack:///C:/Users/Administrator/Desktop/wanlshop_v1.0.8/pages/shop/shop.vue?51a3","webpack:///C:/Users/Administrator/Desktop/wanlshop_v1.0.8/pages/shop/shop.vue?f33e","webpack:///C:/Users/Administrator/Desktop/wanlshop_v1.0.8/pages/shop/shop.vue?c4a3","uni-app:///pages/shop/shop.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACgK;AAChK,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,wOAEN;AACP,KAAK;AACL;AACA,aAAa,mOAEN;AACP,KAAK;AACL;AACA,aAAa,mOAEN;AACP,KAAK;AACL;AACA,aAAa,6NAEN;AACP,KAAK;AACL;AACA,aAAa,yOAEN;AACP,KAAK;AACL;AACA,aAAa,+OAEN;AACP,KAAK;AACL;AACA,aAAa,2PAEN;AACP,KAAK;AACL;AACA,aAAa,yOAEN;AACP,KAAK;AACL;AACA,aAAa,qPAEN;AACP,KAAK;AACL;AACA,aAAa,yRAEN;AACP,KAAK;AACL;AACA,aAAa,qPAEN;AACP,KAAK;AACL;AACA,aAAa,mOAEN;AACP,KAAK;AACL;AACA,aAAa,mOAEN;AACP,KAAK;AACL;AACA,aAAa,+OAEN;AACP,KAAK;AACL;AACA,aAAa,+OAEN;AACP,KAAK;AACL;AACA,aAAa,mOAEN;AACP,KAAK;AACL;AACA,aAAa,qPAEN;AACP,KAAK;AACL;AACA,aAAa,iNAEN;AACP,KAAK;AACL;AACA,aAAa,qMAEN;AACP,KAAK;AACL;AACA,aAAa,uNAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrJA;AAAA;AAAA;AAAA;AAAklB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmNtmB;AACA,MADA,kBACA;AACA;AACA,gBADA;AAEA,uCAFA;AAGA,qBAHA;AAIA,oBAJA;AAKA;AACA;AACA;AACA,4CADA,EADA;;AAIA;AACA,mDADA;AAEA,0CAFA,EAJA,EADA,EALA;;;;AAgBA;AACA,yBADA;AAEA,qBAFA;AAGA,eAHA,EAhBA;;AAqBA,sBArBA;AAsBA,+BAtBA;AAuBA,sBAvBA;AAwBA,gBAxBA;AAyBA,mBAzBA,EAyBA;AACA,wBA1BA,EA0BA;AACA,gEA3BA;AA4BA;AACA,oBA7BA,EA6BA;AACA,mBA9BA;AA+BA,mBA/BA,EA+BA;AACA,2BAhCA;AAiCA;AACA,kBADA;AAEA,qBAFA;AAGA,oBAHA;AAIA,eAJA;AAKA,kBALA;AAMA,cANA,EAjCA;;AAyCA,mBAzCA,EAyCA;AACA,kBA1CA;AA2CA,uBA3CA;AA4CA;AACA,uBADA;AAEA,gCAFA;AAGA,gCAHA,EA5CA;;;AAkDA,GApDA;AAqDA,QArDA,kBAqDA,MArDA,EAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA9DA;AA+DA,cA/DA,wBA+DA,CA/DA,EA+DA;AACA;AACA,0DAFA,CAEA;AACA,4CAHA,CAGA;AACA,GAnEA;AAoEA;AACA,mBArEA,+BAqEA;AACA;AACA;AACA;AACA,GAzEA;AA0EA;AACA,eA3EA,2BA2EA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA,8CAHA,CAGA;AACA;AACA;AACA;AACA,GArFA;AAsFA;AACA,UAvFA,sBAuFA;AACA;AACA;AACA;AACA;AACA,GA5FA;AA6FA;AACA,YADA,sBACA;AACA;AACA,gDADA;AAEA,oCAFA;AAGA;AACA;AACA;AACA,iGAHA,CAGA;AACA;AACA;AACA;AACA,yDAPA,CAOA;AACA,oDARA,CAQA;AACA,mBAZA,IADA;;AAeA,KAhBA;AAiBA,gBAjBA,0BAiBA;AACA;AACA,4CADA;AAEA;AACA,sCADA,EAFA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAHA,MAGA;AACA;AACA;AACA,mBAfA,IADA;;AAkBA,KAnCA;AAoCA;AACA,YArCA,sBAqCA;AACA;AACA;AACA;AACA;AACA,+EADA;;;AAIA,iBANA,MAMA;AACA;AACA;AACA,+EADA;;AAGA;AACA;AACA,8CADA;AAEA;AACA,0CADA,EAFA;;AAKA;AACA;AACA,mBAPA,IAdA;;AAuBA,KA5DA;AA6DA;AACA,aA9DA,qBA8DA,IA9DA,EA8DA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KAtEA;AAuEA;AACA,YAxEA,oBAwEA,KAxEA,EAwEA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,oBAFA;;AAIA,KAnHA;AAoHA;AACA,aArHA,uBAqHA;AACA;AACA,KAvHA;AAwHA;AACA,cAzHA,sBAyHA,IAzHA,EAyHA;AACA;AACA;AACA,KA5HA;AA6HA;AACA,eA9HA,yBA8HA;AACA;AACA,KAhIA;AAiIA;AACA,uBAlIA,+BAkIA,GAlIA,EAkIA,IAlIA,EAkIA;AACA;AACA,KApIA;AAqIA,UArIA,oBAqIA;AACA;AACA,KAvIA;AAwIA,YAxIA,sBAwIA;AACA;AACA,KA1IA,EA7FA,E","file":"pages/shop/shop.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/shop/shop.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./shop.vue?vue&type=template&id=71bf3ec6&\"\nvar renderjs\nimport script from \"./shop.vue?vue&type=script&lang=js&\"\nexport * from \"./shop.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/shop/shop.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shop.vue?vue&type=template&id=71bf3ec6&\"","var components\ntry {\n  components = {\n    wanlPageBanner: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-banner/wanl-page-banner\" */ \"@/components/wanl-page-banner/wanl-page-banner.vue\"\n      )\n    },\n    wanlPageImage: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-image/wanl-page-image\" */ \"@/components/wanl-page-image/wanl-page-image.vue\"\n      )\n    },\n    wanlPageVideo: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-video/wanl-page-video\" */ \"@/components/wanl-page-video/wanl-page-video.vue\"\n      )\n    },\n    wanlPageMenu: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-menu/wanl-page-menu\" */ \"@/components/wanl-page-menu/wanl-page-menu.vue\"\n      )\n    },\n    wanlPageNotice: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-notice/wanl-page-notice\" */ \"@/components/wanl-page-notice/wanl-page-notice.vue\"\n      )\n    },\n    wanlPageArticle: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-article/wanl-page-article\" */ \"@/components/wanl-page-article/wanl-page-article.vue\"\n      )\n    },\n    wanlPageHeadlines: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-headlines/wanl-page-headlines\" */ \"@/components/wanl-page-headlines/wanl-page-headlines.vue\"\n      )\n    },\n    wanlPageSearch: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-search/wanl-page-search\" */ \"@/components/wanl-page-search/wanl-page-search.vue\"\n      )\n    },\n    wanlPageActivity: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-activity/wanl-page-activity\" */ \"@/components/wanl-page-activity/wanl-page-activity.vue\"\n      )\n    },\n    wanlPageCategoryTitle: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-category-title/wanl-page-category-title\" */ \"@/components/wanl-page-category-title/wanl-page-category-title.vue\"\n      )\n    },\n    wanlPageClassify: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-classify/wanl-page-classify\" */ \"@/components/wanl-page-classify/wanl-page-classify.vue\"\n      )\n    },\n    wanlPageLikes: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-likes/wanl-page-likes\" */ \"@/components/wanl-page-likes/wanl-page-likes.vue\"\n      )\n    },\n    wanlPageGoods: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-goods/wanl-page-goods\" */ \"@/components/wanl-page-goods/wanl-page-goods.vue\"\n      )\n    },\n    wanlPageBargain: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-bargain/wanl-page-bargain\" */ \"@/components/wanl-page-bargain/wanl-page-bargain.vue\"\n      )\n    },\n    wanlPageSeckill: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-seckill/wanl-page-seckill\" */ \"@/components/wanl-page-seckill/wanl-page-seckill.vue\"\n      )\n    },\n    wanlPageEmpty: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-empty/wanl-page-empty\" */ \"@/components/wanl-page-empty/wanl-page-empty.vue\"\n      )\n    },\n    wanlPageDivision: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-page-division/wanl-page-division\" */ \"@/components/wanl-page-division/wanl-page-division.vue\"\n      )\n    },\n    wanlProduct: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-product/wanl-product\" */ \"@/components/wanl-product/wanl-product.vue\"\n      )\n    },\n    uniDrawer: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-drawer/uni-drawer\" */ \"@/components/uni-drawer/uni-drawer.vue\"\n      )\n    },\n    uniLoadMore: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    _vm.pageCur == \"home\"\n      ? _vm.$wanlshop.oss(_vm.shopData.avatar, 38, 38, 2, \"avatar\")\n      : null\n  var g1 = _vm.$wanlshop.toFormat(_vm.shopData.like, \"thousand\")\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      return _vm.$wanlshop.back(1)\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./shop.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"wanl-shop\">\n\t\t<!-- 背景 -->\n\t\t<view class=\"wrap\">\n\t\t\t<!-- <view class=\"bg-box\" :style=\"{ backgroundImage: 'url(' + $wanlshop.oss(background, 500, 0, 1, 'transparent', 'png') + ')' }\"></view> -->\r\n\t\t\t<view class=\"bg-box\" :style=\"{ backgroundImage: 'url(' + background + ')' }\"></view>\n\t\t\t<view class=\"gc-1\"></view>\n\t\t\t<view class=\"gc-2\"></view>\n\t\t\t<view class=\"gc-3\"></view>\n\t\t</view>\n\t\t<!-- 底部导航 -->\n\t\t<view class=\"cu-bar tabbar foot wanl-gray-dark\">\n\t\t\t<view class=\"action\" @tap=\"navChange('home')\">\n\t\t\t\t<view v-if=\"pageCur == 'home'\">\n\t\t\t\t\t<view class=\"user-pic shadow-warp\"><image :src=\"$wanlshop.oss(shopData.avatar, 38, 38, 2, 'avatar')\" mode=\"scaleToFill\"></image></view>\n\t\t\t\t</view>\n\t\t\t\t<view v-else>\n\t\t\t\t\t<view class=\"wlIcon-31dianpu\"></view>\n\t\t\t\t\t<view>首页</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"action\" @tap=\"navChange('allgoods')\">\n\t\t\t\t<view class=\"wlIcon-baobei\" :class=\"pageCur == 'allgoods' ? 'text-orange' : ''\"></view>\n\t\t\t\t<view :class=\"pageCur == 'allgoods' ? 'text-orange' : ''\">宝贝</view>\n\t\t\t</view>\n\t\t\t<!-- <view class=\"action\" @tap=\"navChange('find')\">\n\t\t\t\t<view class=\"wlIcon-baobei\" :class=\"pageCur == 'find' ? 'text-orange' : ''\"></view>\n\t\t\t\t<view :class=\"pageCur == 'find' ? 'text-orange' : ''\">动态</view>\n\t\t\t</view> -->\n\t\t\t<view class=\"action\" @tap=\"navChange('category')\">\n\t\t\t\t<view class=\"wlIcon-fenlei1\" :class=\"pageCur == 'category' ? 'text-orange' : ''\"></view>\n\t\t\t\t<view :class=\"pageCur == 'category' ? 'text-orange' : ''\">分类</view>\n\t\t\t</view>\n\t\t\t<view class=\"action\" @tap=\"toChat(shop_id)\">\n\t\t\t\t<view class=\"wlIcon-kefu\"></view>\n\t\t\t\t<view>客服</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 浮动头部 -->\n\t\t<view\n\t\t\tclass=\"sticky bg-orange\"\n\t\t\tv-if=\"Opacity * 10 >= 3\"\n\t\t\t:style=\"{\n\t\t\t\tpaddingTop: wanlsys.top + 'px',\n\t\t\t\tbackgroundColor: pageData.page.style.navigationBarBackgroundColor,\n\t\t\t\tcolor: pageData.page.style.navigationBarTextStyle,\n\t\t\t\topacity: Opacity\n\t\t\t}\"\n\t\t>\n\t\t\t<view class=\"shop-search wanl-gray-dark\" @tap=\"search\">\n\t\t\t\t<text class=\"wlIcon-sousuo1 margin-right-xs\"></text>\n\t\t\t\t搜索店内宝贝\n\t\t\t</view>\n\t\t\t<view class=\"shop-menu text-white\" v-if=\"pageType\">\n\t\t\t\t<view class=\"box\">\n\t\t\t\t\t<view class=\"item\" :class=\"{ select: filterIndex === 0 }\" @tap=\"tabClick(0)\">主页</view>\n\t\t\t\t\t<view class=\"item\" :class=\"{ select: filterIndex === 1 }\" @tap=\"tabClick(1)\">推荐</view>\n\t\t\t\t\t<view class=\"item\" :class=\"{ select: filterIndex === 2 }\" @tap=\"tabClick(2)\">销量</view>\n\t\t\t\t\t<view class=\"item\" :class=\"{ select: filterIndex === 3 }\" @tap=\"tabClick(3)\">新品</view>\n\t\t\t\t\t<view class=\"item\" :class=\"{ select: filterIndex === 4 }\" @tap=\"tabClick(4)\">\n\t\t\t\t\t\t<text>价格</text>\n\t\t\t\t\t\t<view class=\"icon\">\n\t\t\t\t\t\t\t<text :class=\"{ active: priceOrder === 1 && filterIndex === 4 }\" class=\"wlIcon-sheng\"></text>\n\t\t\t\t\t\t\t<text :class=\"{ active: priceOrder === 2 && filterIndex === 4 }\" class=\"wlIcon-jiang\"></text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"text-lg\" @tap=\"editStyle()\" v-if=\"filterIndex != 0\">\n\t\t\t\t\t<text class=\"wlIcon-listing-jf\" v-if=\"listStyle == 'col-2-10'\"></text>\n\t\t\t\t\t<text class=\"wlIcon-liebiao\" v-else></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 主体 -->\n\t\t<view class=\"main\" :style=\"{ top: wanlsys.top + 'px' }\">\n\t\t\t<!-- 小程序 -->\n\t\t\t<view class=\"header\">\n\t\t\t\t<!-- #ifdef MP -->\n\t\t\t\t<view class=\"border-custom margin-right-bj transparent\"><text class=\"wlIcon-fanhui1\" @tap=\"$wanlshop.back(1)\"></text></view>\n\t\t\t\t<!-- #endif -->\n\t\t\t\t<view class=\"text-white\" style=\"flex: 1;\">\n\t\t\t\t\t<view class=\"title\" @tap=\"shopInfo\">\n\t\t\t\t\t\t{{ shopData.shopname }}\n\t\t\t\t\t\t<text class=\"wlIcon-fangxiang2 margin-left-xs\"></text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"describe text-min\">\n\t\t\t\t\t\t<text>粉丝数 {{ $wanlshop.toFormat(shopData.like, 'thousand') }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- #ifndef MP -->\n\t\t\t\t<view class=\"border-custom\">\n\t\t\t\t\t<text class=\"wlIcon-guanzhu3 wanl-red\" @tap=\"Tofollow\" v-if=\"shopData.follow\"></text>\n\t\t\t\t\t<text class=\"wlIcon-guanzhu3\" @tap=\"Tofollow\" v-else></text>\n\t\t\t\t\t<text class=\"wlIcon-31guanbi\" @tap=\"$wanlshop.back(1)\"></text>\n\t\t\t\t</view>\n\t\t\t\t<!-- #endif -->\n\t\t\t</view>\n\t\t\t<!-- 主体内容 -->\n\t\t\t<block v-if=\"pageType\">\n\t\t\t\t<view class=\"shop-search wanl-gray-dark margin-lr-bj\" @tap=\"search\">\n\t\t\t\t\t<text class=\"wlIcon-sousuo1 margin-right-xs\"></text>\n\t\t\t\t\t{{ pageData.page.params.navigationBarTitleText }}\n\t\t\t\t</view>\n\t\t\t\t<view class=\"shop-menu text-white margin-lr-bj margin-tb-sm\">\n\t\t\t\t\t<view class=\"box\">\n\t\t\t\t\t\t<view class=\"item\" :class=\"{ select: filterIndex == 0 }\" @tap=\"tabClick(0)\">主页</view>\n\t\t\t\t\t\t<view class=\"item\" :class=\"{ select: filterIndex == 1 }\" @tap=\"tabClick(1)\">推荐</view>\n\t\t\t\t\t\t<view class=\"item\" :class=\"{ select: filterIndex == 2 }\" @tap=\"tabClick(2)\">销量</view>\n\t\t\t\t\t\t<view class=\"item\" :class=\"{ select: filterIndex == 3 }\" @tap=\"tabClick(3)\">新品</view>\n\t\t\t\t\t\t<view class=\"item\" :class=\"{ select: filterIndex == 4 }\" @tap=\"tabClick(4)\">\n\t\t\t\t\t\t\t<text>价格</text>\n\t\t\t\t\t\t\t<view class=\"icon\">\n\t\t\t\t\t\t\t\t<text :class=\"{ active: priceOrder == 1 && filterIndex == 4 }\" class=\"wlIcon-sheng\"></text>\n\t\t\t\t\t\t\t\t<text :class=\"{ active: priceOrder == 2 && filterIndex == 4 }\" class=\"wlIcon-jiang\"></text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"text-lg\" @tap=\"editStyle()\" v-if=\"filterIndex != 0\">\n\t\t\t\t\t\t<text class=\"wlIcon-listing-jf\" v-if=\"listStyle == 'col-2-10'\"></text>\n\t\t\t\t\t\t<text class=\"wlIcon-liebiao\" v-else></text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 自定义页面 -->\n\t\t\t\t<view class=\"wanl-page\" v-if=\"filterIndex == 0\">\n\t\t\t\t\t<view v-for=\"(item, index) in pageData.item\" :key=\"item.type\">\n\t\t\t\t\t\t<view v-if=\"item.type == 'banner'\"><wanl-page-banner :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'image'\"><wanl-page-image :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'video'\"><wanl-page-video :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'menu'\"><wanl-page-menu :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'notice'\"><wanl-page-notice :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'article'\"><wanl-page-article :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'headlines'\"><wanl-page-headlines :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'search'\"><wanl-page-search :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'activity'\"><wanl-page-activity :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'categoryTitle'\"><wanl-page-category-title :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'classify'\"><wanl-page-classify :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'likes'\"><wanl-page-likes :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'goods'\"><wanl-page-goods :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'bargain'\"><wanl-page-bargain :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'seckill'\"><wanl-page-seckill :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'empty'\"><wanl-page-empty :pageData=\"item\" /></view>\n\t\t\t\t\t\t<view v-if=\"item.type == 'division'\"><wanl-page-division :pageData=\"item\" /></view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 加载店铺商品 -->\n\t\t\t\t<block v-else>\n\t\t\t\t\t<wanl-product :dataList=\"goodsData\" :dataStyle=\"listStyle\"/>\n\t\t\t\t</block>\n\t\t\t</block>\n\t\t\t<block v-else>\n\t\t\t\t<!-- 搜索 -->\n\t\t\t\t<view class=\"shop-search wanl-gray-dark margin-lr-bj\" @tap=\"search\">\n\t\t\t\t\t<text class=\"wlIcon-sousuo1 margin-right-xs\"></text>\n\t\t\t\t\t{{ pageData.page.params.navigationBarTitleText }}\n\t\t\t\t</view>\n\t\t\t\t<!-- 商家类目 -->\n\t\t\t\t<view class=\"shop-category\">\n\t\t\t\t\t<view class=\"item margin-bj radius-bock\" v-for=\"(item, index) in categoryData\" :key=\"item.id\">\n\t\t\t\t\t\t<view class=\"nav margin-lr-bj\" v-if=\"item.childlist.length == 0\" @tap=\"productCategoryList(item.id, item.name)\">\n\t\t\t\t\t\t\t<text class=\"text-df\">{{ item.name }}</text>\n\t\t\t\t\t\t\t<text class=\"wlIcon-fanhui2\"></text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"nav margin-lr-bj\" v-else>\n\t\t\t\t\t\t\t<text class=\"text-df\">{{ item.name }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"action margin-lr-bj\" v-if=\"item.childlist.length != 0\">\n\t\t\t\t\t\t\t<block v-for=\"(vo, key) in item.childlist\" :key=\"vo.id\">\n\t\t\t\t\t\t\t\t<view class=\"padding-bj\" v-if=\"vo.childlist.length == 0\" @tap=\"productCategoryList(vo.id, vo.name)\">\n\t\t\t\t\t\t\t\t\t<text>{{ vo.name }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view v-else class=\"padding-bj\" @tap=\"showDrawer(vo.childlist)\">\n\t\t\t\t\t\t\t\t\t{{ vo.name }}\n\t\t\t\t\t\t\t\t\t<text class=\"wlIcon-fanhui2 margin-left\"></text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</block>\n\t\t\t<uni-drawer :visible=\"showRight\" width=\"75%\" mode=\"right\" @close=\"closeDrawer\">\n\t\t\t\t<view class=\"drawer\">\n\t\t\t\t\t<view class=\"shop-category\">\n\t\t\t\t\t\t<view class=\"item radius-bock\" v-for=\"(item, index) in categoryChildlistData\" :key=\"item.id\">\n\t\t\t\t\t\t\t<view class=\"nav margin-lr-bj\" v-if=\"item.childlist.length == 0\" @tap=\"productCategoryList(item.id, item.name)\">\n\t\t\t\t\t\t\t\t<text class=\"text-df\">{{ item.name }}</text>\n\t\t\t\t\t\t\t\t<text class=\"wlIcon-fanhui2\"></text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"nav margin-lr-bj\" v-else>\n\t\t\t\t\t\t\t\t<text class=\"text-df\">{{ item.name }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"action margin-lr-bj\">\n\t\t\t\t\t\t\t\t<block v-for=\"(vo, key) in item.childlist\" :key=\"vo.id\">\n\t\t\t\t\t\t\t\t\t<view class=\"padding-bj\" v-if=\"vo.childlist.length == 0\" @tap=\"productCategoryList(vo.id, vo.name)\">\n\t\t\t\t\t\t\t\t\t\t<text>{{ vo.name }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view v-else class=\"padding-bj\" @tap=\"showDrawer(vo.childlist)\">\n\t\t\t\t\t\t\t\t\t\t{{ vo.name }}\n\t\t\t\t\t\t\t\t\t\t<text class=\"wlIcon-fanhui2 margin-left\"></text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</block>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</uni-drawer>\n\t\t\t<uni-load-more :status=\"status\" :content-text=\"contentText\" />\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tshop_id: 0,\n\t\t\twanlsys: this.$wanlshop.wanlsys(),\n\t\t\tpageCur: 'home',\n\t\t\tpageType: true,\n\t\t\tpageData: {\n\t\t\t\tpage: {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tnavigationBarTitleText: '搜索店内商品'\n\t\t\t\t\t},\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tnavigationBarBackgroundColor: '#ff4f00',\n\t\t\t\t\t\tnavigationBarTextStyle: '#333'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tshopData: {\n\t\t\t\tshopname: '加载中..',\n\t\t\t\tfollow: false,\n\t\t\t\tlike: 0\n\t\t\t},\n\t\t\tcategoryData: [],\n\t\t\tcategoryChildlistData: [],\n\t\t\tshowRight: false,\n\t\t\tOpacity: 0,\n\t\t\tWanlScroll: 0, //记录页面滚动\n\t\t\tscrollStype: false, //滚动状态\n\t\t\tbackground: this.$wanlshop.appstc('/show/page_swiper.png'),\n\t\t\t// 列表\n\t\t\tfilterIndex: 0, //当前页面\n\t\t\tgoodsData: [],\n\t\t\tpriceOrder: 0, //1 价格从低到高 2价格从高到低\n\t\t\tlistStyle: 'col-2-10',\n\t\t\tparams: {\n\t\t\t\tsearch: '',\n\t\t\t\tsort: 'weigh',\n\t\t\t\torder: 'asc',\n\t\t\t\tpage: 1,\n\t\t\t\tfilter: {},\n\t\t\t\top: {}\n\t\t\t},\n\t\t\treload: false, //判断是否上拉\n\t\t\tlast_page: 0,\n\t\t\tstatus: 'loading',\n\t\t\tcontentText: {\n\t\t\t\tcontentdown: '',\n\t\t\t\tcontentrefresh: '正在加载..',\n\t\t\t\tcontentnomore: '没有更多数据了'\n\t\t\t}\n\t\t};\n\t},\n\tonLoad(option) {\n\t\tthis.shop_id = option.id;\n\t\tthis.params.filter = { shop_id: this.shop_id };\n\t\tthis.params.op = { shop_id: '=' };\n\t\tthis.loadPageData();\n\t\t// 如果传来type\n\t\tif (option.type) {\n\t\t\tthis.tabClick(option.type);\n\t\t}\n\t},\n\tonPageScroll(e) {\n\t\tlet tmpY = 20 + this.wanlsys.top;\n\t\te.scrollTop = e.scrollTop > tmpY ? tmpY : e.scrollTop; //如果当前高度大于250则250否则当前高度\n\t\tthis.Opacity = e.scrollTop * (1 / tmpY); //$headerOpacity 赋值当前高度x（1÷250）\n\t},\n\t// 监听上拉\n\tonPullDownRefresh() {\n\t\tthis.params.page  = 1;\n\t\tthis.reload = true;\n\t\tthis.loadData();\n\t},\n\t// 下拉刷新\n\tonReachBottom() {\n\t\tif (this.params.page >= this.last_page) {\n\t\t\tthis.status = 'noMore';\n\t\t} else {\n\t\t\tthis.reload = false;\n\t\t\tthis.contentText.contentdown = '上拉显示更多';\n\t\t\tthis.params.page = this.params.page + 1; //页码+1\n\t\t\tthis.status = 'loading';\n\t\t\tthis.loadData();\n\t\t}\n\t},\n\t// 监听返回\n\tonUnload() {\n\t\tif (this.showRight) {\n\t\t\tthis.closeDrawer();\n\t\t\treturn true;\n\t\t}\n\t},\n\tmethods: {\n\t\tasync loadData() {\n\t\t\tthis.$api.get({\n\t\t\t\turl: '/wanlshop/product/lists',\n\t\t\t\tdata: this.params,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t\t\tthis.status = res.total == 0 ? 'noMore' : 'more';\n\t\t\t\t\tthis.goodsData = this.reload ? res.data : this.goodsData.concat(res.data); //数据 追加\n\t\t\t\t\t// if (res.data.length == 0) {\n\t\t\t\t\t// \tthis.loadlikeData();\n\t\t\t\t\t// }\n\t\t\t\t\tthis.params.page = res.current_page; //当前页码\n\t\t\t\t\tthis.last_page = res.last_page; //总页码\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tasync loadPageData() {\n\t\t\tthis.$api.get({\n\t\t\t\turl: '/wanlshop/shop/page',\n\t\t\t\tdata: {\n\t\t\t\t\tid: this.shop_id\n\t\t\t\t},\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.status = 'more';\n\t\t\t\t\tthis.shopData = res.shop;\n\t\t\t\t\tthis.categoryData = res.category;\n\t\t\t\t\tif (res.page) {\n\t\t\t\t\t\tthis.pageData = res.page;\n\t\t\t\t\t\tthis.background = res.page.page.style.pageBackgroundImage;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.tabClick(1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 关注\n\t\tasync Tofollow() {\n\t\t\tthis.shopData.follow = !this.shopData.follow;\n\t\t\tif (this.shopData.follow) {\n\t\t\t\tthis.shopData.like += 1;\n\t\t\t\tthis.$store.commit('statistics/dynamic', {\n\t\t\t\t\tconcern: this.$store.state.statistics.dynamic.concern + 1\n\t\t\t\t});\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tthis.shopData.like -= 1;\n\t\t\t\tthis.$store.commit('statistics/dynamic', {\n\t\t\t\t\tconcern: this.$store.state.statistics.dynamic.concern - 1\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.$api.post({\n\t\t\t\turl: '/wanlshop/shop/follow',\n\t\t\t\tdata: {\n\t\t\t\t\tid: this.shopData.id\n\t\t\t\t},\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.shopData.follow = res;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 切换底部菜单\n\t\tnavChange(name) {\n\t\t\tif (name == 'home') {\n\t\t\t\tthis.tabClick(0);\n\t\t\t} else if (name == 'allgoods') {\n\t\t\t\tthis.tabClick(1);\n\t\t\t}\n\t\t\tthis.pageType = name == 'category' ? false : true;\n\t\t\tthis.pageCur = name;\n\t\t},\n\t\t//筛选点击\n\t\ttabClick(index) {\n\t\t\tif (this.filterIndex === index && index !== 4) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (index === 4) {\n\t\t\t\tthis.priceOrder = this.priceOrder === 1 ? 2 : 1;\n\t\t\t} else {\n\t\t\t\tthis.priceOrder = 0;\n\t\t\t}\n\t\t\tthis.filterIndex = index;\n\t\t\t// 排序方式\n\t\t\tif (index === 0) {\n\t\t\t\tthis.loadPageData();\n\t\t\t} else {\n\t\t\t\tif (index === 1) {\n\t\t\t\t\tthis.params.sort = 'weigh';\n\t\t\t\t\tthis.params.order = 'asc';\n\t\t\t\t}\n\t\t\t\tif (index === 2) {\n\t\t\t\t\tthis.params.sort = 'sales';\n\t\t\t\t\tthis.params.order = 'asc';\n\t\t\t\t}\n\t\t\t\tif (index === 3) {\n\t\t\t\t\tthis.params.sort = 'createtime';\n\t\t\t\t\tthis.params.order = 'asc';\n\t\t\t\t}\n\t\t\t\tif (index === 4 && this.priceOrder === 1) {\n\t\t\t\t\tthis.params.sort = 'price';\n\t\t\t\t\tthis.params.order = 'asc';\n\t\t\t\t}\n\t\t\t\tif (index === 4 && this.priceOrder === 2) {\n\t\t\t\t\tthis.params.sort = 'price';\n\t\t\t\t\tthis.params.order = 'desc';\n\t\t\t\t}\n\t\t\t\tthis.params.page = 1;\n\t\t\t\tthis.reload = true;\n\t\t\t\tthis.loadData();\n\t\t\t}\n\t\t\tthis.status = 'loading';\n\t\t\tuni.pageScrollTo({\n\t\t\t\tduration: 300,\n\t\t\t\tscrollTop: 0\n\t\t\t});\n\t\t},\n\t\t// 修改布局样式\n\t\teditStyle() {\n\t\t\tthis.listStyle = this.listStyle == 'col-1-10' ? 'col-2-10' : 'col-1-10';\n\t\t},\n\t\t// 打开抽屉，并且加载品牌和类目属性\n\t\tshowDrawer(data) {\n\t\t\tthis.showRight = true;\n\t\t\tthis.categoryChildlistData = data;\n\t\t},\n\t\t// 关闭抽屉\n\t\tcloseDrawer() {\n\t\t\tthis.showRight = false;\n\t\t},\n\t\t//跳转类目列表\n\t\tproductCategoryList(cid, name) {\n\t\t\tthis.$wanlshop.to('productList?shop_id=' + this.shop_id + '&category_id=' + cid + '&category_name=' + name);\n\t\t},\n\t\tsearch() {\n\t\t\tthis.$wanlshop.to('productList?shop_id=' + this.shop_id, 'fade-in', 100);\n\t\t},\n\t\tshopInfo() {\n\t\t\tthis.$wanlshop.to('info?shop_id=' + this.shop_id);\n\t\t}\n\t}\n};\n</script>\n\n<style></style>\n"],"sourceRoot":""}